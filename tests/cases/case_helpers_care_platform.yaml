CarePlatformLogout:
  Environment: Settings 
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:     
      # Login to the Care Platform app with Care Partners account
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.logout_menu_button$
    - Type: click
      Strategy: xpath
      Id: //button[contains(text(),'$AND_CLI_LOGOUT_OPTION$')]
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_login.login_button$

ProvidersCarePlatformLogin:
  Environment: Settings 
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:      
      # Login to Providers Care Platform
    - Type: maximize
    - Type: navigate
      Role: desktopChrome
      Value: $AND_CLI_care_platform_url$
    - Type: get_text
      Strategy: xpath
      Id : $PAGE.care_platform_login_page.login_button$
      Greps:
      - var: login_text
        match: "Log In"
    - Type: assert
      Role: desktopChrome
      Asserts: 
      - Type: eq
        Var: login_text
        Value: "Log In"  
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_login_page.email_input$
      Value: $AND_CLI_provider_user1$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_login_page.password_input$
      Value: $AND_CLI_provider_user1_pwd$
    - Type: click
      Strategy: xpath
      Role: desktopChrome
      Id: $PAGE.care_platform_login_page.login_button$

CarePartnerLogin:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
    - Type: navigate
      Role: desktopChrome
      Value: https://care-platform-qa.chs-ds.com/login
    - Type: maximize
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_login.email_input$
      Value: $AND_CLI_carepartner_user1$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_login.password_input$
      Value: $AND_CLI_carepartner_user1_pwd$
    - Type: click
      Strategy: xpath
      Role: desktopChrome
      Id: $PAGE.care_platform_login.login_button$
    - Type: sleep
      Time: 2
#    - Type: if
#      If_Cases:
#      - If_Case: VerifyEmail

VerifyEmail:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
    - Type: click
      Strategy: xpath
      Id: $PAGE.verify_account.email_button$