#CXTB-222: Log In - Forgot Password
TestForgotPassword:
  Environment: Settings 
  Roles:
    - Role: desktopChrome
      App: "desktop"
  Actions:
  #Navigating to the Care Platform login page
    - Type: maximize
    - Type: navigate
      Role: desktopChrome
      Value: $AND_CLI_care_platform_url$ 
  #Opening the forgot password dialog
    - Type: click
      Strategy: xpath
      Id : $PAGE.care_platform_login.forgot_password_button$
  #Closing the dialog
    - Type: click
      Strategy: xpath
      Id : $PAGE.care_platform_login.dialog_cancel_button$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_submit_button$
  #Opening the forgot password dialog
    - Type: click
      Strategy: xpath
      Id : $PAGE.care_platform_login.forgot_password_button$
  #Submitting the email
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_email_input$
      Value: $AND_CLI_carepartner_user1$
    - Type: click
      Strategy: xpath
      Id : $PAGE.care_platform_login.dialog_submit_button$
  #Verify the Thank You text showed up
    - Type: get_text  
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_thank_you_title$
      Greps:
      - var: THANK_YOU_TEXT
        match: "(.*)"
    - Type: assert
      Asserts: 
      - Type: eq 
        Var: THANK_YOU_TEXT
        Value: "Thank You"
        raise: true
  #Closing the Thank You dialog   
    - Type: click
      Strategy: xpath
      Id : $PAGE.care_platform_login.dialog_close_icon_button$
    - Type: wait_not_visible
      Strategy: xpath
      Id : $PAGE.care_platform_login.dialog_submit_button$
