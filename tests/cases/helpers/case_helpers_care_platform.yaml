CarePlatformLogout:
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:     
      # Log out to the Care Platform app with Care Partners account
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_header.logout_menu_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.logout_menu_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_logout_modal.log_out_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_logout_modal.log_out_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_login.login_button$

CarePartnerLogin:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
    - Type: navigate
      Role: desktopChrome
      Value: $AND_CLI_care_platform_url$
    - Type: maximize
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_login.email_input$
      Value: $AND_CLI_carepartner_user1$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_login.password_input$
      Value: $AND_CLI_carepartner_user1_pwd$
    - Type: click
      Strategy: xpath
      Role: desktopChrome
      Id: $PAGE.care_platform_login.login_button$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_login.login_button$
      Property: disabled
      Value: "true"
      Time: 0.25
    - Type: sleep
      Time: 2
#    - Type: if
#      If_Cases:
#      - If_Case: VerifyEmail

CarePartnerLoginSecondaryUser:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
    - Type: navigate
      Value: $AND_CLI_care_platform_url$
    - Type: maximize
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_login.email_input$
      Value: $AND_CLI_carepartner_user2$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_login.password_input$
      Value: $AND_CLI_carepartner_user2_pwd$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_login.login_button$
    - Type: sleep
      Time: 2

VerifyEmail:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_verify_account.email_button$

SetScheduledCallForSeniors:
  Environment: Settings 
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # Login to the Care Platform app with Care Partners account
    - Type: case
      Value: CarePartnerLogin   
    # Navigate to Participants
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_participant$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_participant$
    # Open the Call Portal
    - Type: case
      Value: CarePartnerParticipantCallPortalNavigation
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    # Create the event
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.teleheath_appointment_option$
    - Type: generate_unique_name
      Name: "Automation Event"
      ResultVar: UNIQUE_EVENT_NAME
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.subject_input$
      Value: $AND_CLI_UNIQUE_EVENT_NAME$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.date_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.start_time_picker$
      Value: 800a
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.end_time_picker$
      Value: 900p
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.next_btn$
    # Filling the Situation fields
    # Urgent patient matter
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_yes_option$
    # Reason for request
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.reason_for_request_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.first_reason_for_request_available_option$
    # When did symptoms start      
    - Type: click
      Strategy: class
      Id: $PAGE.care_platform_call_portal.symptoms_start_input_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    # Patient location
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.location_selector$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.location_option_2$
    # Click in the submit button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_create_event_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.event_created_notification$
    # Get timestamp where event was sent to Senior.
    - Type: get_local_timestamp
      Format: "%c"
      Var: EVENT_SENT_TIMESTAMP
    # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$

SetPastEventForSeniors:
  Environment: Settings
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:   
    # Login to the Care Platform app with Care Partners account
    - Type: case
      Value: CarePartnerLogin
      # Navigate to Participants
    - Type: case
      Value: CarePartnerNavigateToParticipants
    # Decrease listing by searching participant's name
    - Type: search_by_text
      Role: desktopChrome
      Text: $AND_CLI_senior_user1_name$
      # Open the Call Portal
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_complete_name$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.call_portal_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
      # Create the event
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.teleheath_appointment_option$
    #Generate unique name for the event.
    - Type: generate_unique_name
      Name: "Automation Sched Event"
      ResultVar: UNIQUE_EVENT_NAME
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.subject_input$
      Value: $AND_CLI_UNIQUE_EVENT_NAME$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.date_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    #Set a time in the past for the event to start
    - Type: get_past_timestamp
      Format: "%I%M%p"
      Var: PAST_START_TIME
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.start_time_picker$
      Value: $AND_CLI_PAST_START_TIME$
    # Set now time to end the event.
    - Type: get_local_timestamp
      Format: "%I%M%p"
      Var: NOW_END_TIME
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.end_time_picker$
      Value: $AND_CLI_NOW_END_TIME$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.next_btn$
      # Filling the Situation fields
      # Urgent patient matter
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_yes_option$
      # Reason for request
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.reason_for_request_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.first_reason_for_request_available_option$
      # When did symptoms start      
    - Type: click
      Strategy: class
      Id: $PAGE.care_platform_call_portal.symptoms_start_input_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    # Patient location
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.location_selector$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.location_option_2$
      # Click in the submit button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_create_event_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.event_created_notification$
      # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$
    - Type: case
      Value: CarePlatformLogout

# Used 7 mins to be safe, Starting modal starts when it's missing 5 minutes and with 7 mins then we play safe with the care partner tear down.
SetScheduledCallForSeniorsToStartIn7Minutes:
  Environment: Settings
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:   
    # Login to the Care Platform app with Care Partners account
    - Type: case
      Value: CarePartnerLogin
    # Navigate to Participants
    - Type: case
      Value: CarePartnerNavigateToParticipants
    # Decrease listing by searching participant's name
    - Type: search_by_text
      Role: desktopChrome
      Text: $AND_CLI_senior_user1_name$
      # Open the Call Portal
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_complete_name$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.call_portal_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
      # Create the event
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.teleheath_appointment_option$
    #Generate unique name for the event.
    - Type: generate_unique_name
      Name: "Automation Sched Event"
      ResultVar: UNIQUE_EVENT_NAME
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.subject_input$
      Value: $AND_CLI_UNIQUE_EVENT_NAME$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.date_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    #Set a time in the future for the event to start in 7 minutes.
    - Type: get_timestamp_plus_minutes
      Minutes: 7
      Format: "%I%M%p"
      Var: FUTURE_START_6MINUTES
    - Type: get_timestamp_plus_minutes
      Minutes: 7
      Format: "%-I:%M%P"
      Var: FUTURE_START_6MINUTES_FOR_COMPARISON
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.start_time_picker$
      Value: $AND_CLI_FUTURE_START_6MINUTES$
    # Set end time to end event in 30 mins.
    - Type: get_timestamp_plus_minutes
      Minutes: 30
      Format: "%I%M%p"
      Var: FUTURE_START_30MINUTES
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.end_time_picker$
      Value: $AND_CLI_FUTURE_START_30MINUTES$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.next_btn$
      # Filling the Situation fields
      # Urgent patient matter
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_yes_option$
      # Reason for request
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.reason_for_request_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.first_reason_for_request_available_option$
      # When did symptoms start      
    - Type: click
      Strategy: class
      Id: $PAGE.care_platform_call_portal.symptoms_start_input_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    # Patient location
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.location_selector$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.location_option_2$
      # Click in the submit button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_create_event_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.event_created_notification$
      # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$
    - Type: case
      Value: CarePlatformLogout

# Used 11 mins so the user is able to do all the needed task with the ones using the 7 mins one(the one above) and then be able to do the validations for this one.
SetScheduledCallForSeniorsToStartIn11Minutes:
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:   
    # Login to the Care Platform app with Care Partners account
    - Type: case
      Value: CarePartnerLogin
      # Navigate to Participants
    - Type: case
      Value: CarePartnerNavigateToParticipants
    # Decrease listing by searching participant's name
    - Type: search_by_text
      Role: desktopChrome
      Text: $AND_CLI_senior_user1_name$
      # Open the Call Portal
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_complete_name$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.call_portal_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
      # Create the event
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.teleheath_appointment_option$
    #Generate unique name for the event.
    - Type: generate_unique_name
      Name: "Automation Sched Event"
      ResultVar: UNIQUE_EVENT_NAME
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.subject_input$
      Value: $AND_CLI_UNIQUE_EVENT_NAME$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.date_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    #Set a time in the future for the event to start in 11 minutes.
    - Type: get_timestamp_plus_minutes
      Minutes: 11
      Format: "%I%M%p"
      Var: FUTURE_START_6MINUTES
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.start_time_picker$
      Value: $AND_CLI_FUTURE_START_6MINUTES$
    # Set end time to end event in 30 mins.
    - Type: get_timestamp_plus_minutes
      Minutes: 30
      Format: "%I%M%p"
      Var: FUTURE_START_30MINUTES
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.end_time_picker$
      Value: $AND_CLI_FUTURE_START_30MINUTES$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.next_btn$
      # Filling the Situation fields
      # Urgent patient matter
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_yes_option$
      # Reason for request
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.reason_for_request_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.first_reason_for_request_available_option$
      # When did symptoms start      
    - Type: click
      Strategy: class
      Id: $PAGE.care_platform_call_portal.symptoms_start_input_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    # Patient location
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.location_selector$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.location_option_2$
      # Click in the submit button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_create_event_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.event_created_notification$
      # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$
    - Type: case
      Value: CarePlatformLogout

SetNonTelehealthAppointmentForSenior:
  Environment: Settings
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # Login to the Care Platform app with Care Partners account
    - Type: case
      Value: CarePartnerLogin   
    # Navigate to Participants
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_participant$
    # Open the Call Portal
    - Type: case
      Value: CarePartnerParticipantCallPortalNavigation
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    # Create the event
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.manual_appointment_option$
    - Type: generate_unique_name
      Name: "Automation Manual Appointment"
      ResultVar: UNIQUE_MANUAL_APPOINTMENT
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.subject_input$
      Value: $AND_CLI_UNIQUE_MANUAL_APPOINTMENT$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.location_input$
      Value: Automation manual appointment
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.date_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.start_time_picker$
      Value: 800a
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.end_time_picker$
      Value: 900p
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.save_and_close_btn$
    # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$
    - Type: case
      Value: CarePlatformLogout

AnswerCallAndRescheduleForOneHourLater:
  Environment: Settings
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
# Login to the Care Platform app with Care Partners account.
    - Type: case
      Value: CarePartnerLogin
    # Care partner steps to take the call.
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_home.first_call_of_queue$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_home.answer_call$
    # Edit the event
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.participant_schedule_based_on_element$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.participant_schedule_based_on_element$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.edit_event_button$
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.edit_event_modal_header$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.date_container$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    # Set a time in the future for the event to start in 60 minutes.
    - Type: get_timestamp_plus_minutes
      Minutes: 60
      Format: "%I%M%p"
      Var: FUTURE_START_60MINUTES
    # Get the schedule time to compare on the future.
    - Type: get_timestamp_plus_minutes
      Minutes: 60
      Format: "%-I:%M%P"
      Var: FUTURE_START_60MINUTES_FOR_COMPARISON
    - Type: send_keys
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.start_time_picker$
      Value: $AND_CLI_FUTURE_START_60MINUTES$
    # Set end time to end event in 90 mins.
    - Type: get_timestamp_plus_minutes
      Minutes: 90
      Format: "%I%M%p"
      Var: FUTURE_START_90MINUTES
    # Get the schedule time to compare on the future.
    - Type: get_timestamp_plus_minutes
      Minutes: 90
      Format: "%-I:%M%P"
      Var: FUTURE_START_90MINUTES_FOR_COMPARISON
    - Type: send_keys
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.end_time_picker$
      Value: $AND_CLI_FUTURE_START_90MINUTES$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.save_and_close_btn$
    # Get timestamp where event was rescheduled to Senior.
    - Type: get_local_timestamp
      Format: "%c"
      Var: EVENT_RESCHEDULE_TIMESTAMP
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.event_saved_notification$
    # Leave call.
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.leave_call_btn$
    # Fill the notes
    - Type: send_keys
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.providers_call_handling_page.subject_input$
      Value: Automation Post call survey data
    - Type: send_keys
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.providers_call_handling_page.details_textarea$
      Value: Automation Post call survey data   
    - Type: wait_for_property
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.complete_session_btn$ 
      Property: disabled
      Value: "false"
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.complete_session_btn$             
    # Fill the Post-call Survey
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.non_medical_radiobtn$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.non_medical_radiobtn$             
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.issue_resolved_yes_radiobutton$          
    - Type: click
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.medical_question_option$
    - Type: click
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.subcategory_select$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.located_provider_option$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_and_exit_session_button$
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.call_completed_notification$
    # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$
    - Type: case
      Value: CarePlatformLogout

AnswerPastCallAndRescheduleForOneHourLater:
  Environment: Settings
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # Login to the Care Platform app with Care Partners account.
    - Type: case
      Value: CarePartnerLogin
    # Care partner steps to take the call.
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_home.first_call_of_queue$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_home.answer_call$
    # Create the new event
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    # Create the event
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.teleheath_appointment_option$
    - Type: generate_unique_name
      Name: "Autom. Resched"
      ResultVar: UNIQUE_EVENT_NAME
    - Type: send_keys
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.subject_input$
      Value: $AND_CLI_UNIQUE_EVENT_NAME$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.date_container$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    # Set a time in the future for the event to start in 60 minutes.
    - Type: get_timestamp_plus_minutes
      Minutes: 60
      Format: "%I%M%p"
      Var: FUTURE_START_60MINUTES
    # Get the schedule time to compare on the future.
    - Type: get_timestamp_plus_minutes
      Minutes: 60
      Format: "%-I:%M%P"
      Var: FUTURE_START_60MINUTES_FOR_COMPARISON
    - Type: send_keys
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.start_time_picker$
      Value: $AND_CLI_FUTURE_START_60MINUTES$
    # Set end time to end event in 90 mins.
    - Type: get_timestamp_plus_minutes
      Minutes: 90
      Format: "%I%M%p"
      Var: FUTURE_START_90MINUTES
    # Get the schedule time to compare on the future.
    - Type: get_timestamp_plus_minutes
      Minutes: 90
      Format: "%-I:%M%P"
      Var: FUTURE_START_90MINUTES_FOR_COMPARISON
    - Type: send_keys
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.end_time_picker$
      Value: $AND_CLI_FUTURE_START_90MINUTES$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.next_btn$
    # Filling the Situation fields
    # Urgent patient matter
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_yes_option$
    # Reason for request
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.reason_for_request_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.first_reason_for_request_available_option$
    # When did symptoms start      
    - Type: click
      Strategy: class
      Id: $PAGE.care_platform_call_portal.symptoms_start_input_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    # Patient location
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.location_selector$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.location_option_2$
    # Click in the submit button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_create_event_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.event_created_notification$
    # Get timestamp where event was rescheduled to Senior.
    - Type: get_local_timestamp
      Format: "%c"
      Var: EVENT_RESCHEDULE_TIMESTAMP
    # Leave call.
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.leave_call_btn$
    # Fill the notes
    - Type: send_keys
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.providers_call_handling_page.subject_input$
      Value: Automation Post call survey data
    - Type: send_keys
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.providers_call_handling_page.details_textarea$
      Value: Automation Post call survey data   
    - Type: wait_for_property
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.complete_session_btn$ 
      Property: disabled
      Value: "false"
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.complete_session_btn$             
    # Fill the Post-call Survey
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.non_medical_radiobtn$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.non_medical_radiobtn$             
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.issue_resolved_yes_radiobutton$          
    - Type: click
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.medical_question_option$
    - Type: click
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.subcategory_select$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.located_provider_option$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_and_exit_session_button$
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.call_completed_notification$
    # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$
    - Type: case
      Value: CarePlatformLogout

DeleteFutureEventForSenior:
  Environment: Settings
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # Login to the Care Platform app with Care Partners account.
    - Type: case
      Value: CarePartnerLogin
    # Navigate to Participants
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_participant$
    - Type: search_by_text
      Role: desktopChrome
      Text: $AND_CLI_senior_user1_name$
    # Open the Call Portal
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_complete_name$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.call_portal_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$   
    # Delete the event
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.participant_schedule_based_on_element$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.participant_schedule_based_on_element$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.delete_event_button$
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.yes_delete_button$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.yes_delete_button$
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.event_deleted_notification$
    # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$
    - Type: case
      Value: CarePlatformLogout

#Update Password on the CarePlatform
CarePlatformUpdatePassword:
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    #Going to My Account
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.myaccount_menu_button$
  #Click in Update Password
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.update_password_tab$
  #Verify the elements
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.confirm_new_password_input$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.confirm_new_password_label$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.new_password_input$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.new_password_label$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.current_password_input$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.current_password_label$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_cancel_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.change_my_password_button$
  #Fill the fields with invalid values
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.current_password_input$
      Value: $AND_CLI_carepartner_user1_pwd$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.new_password_input$
      Value: $AND_CLI_alternative_incorrect_password$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.confirm_new_password_input$
      Value: $AND_CLI_alternative_incorrect_password$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.change_my_password_button$
  #Verify a red alert text showed up
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.password_requirements_alert_text$
  #Click in Cancel
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_cancel_button$
  #Verify the dialog is closed
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_cancel_button$
      Time: 10
  #Going to My Account
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.myaccount_menu_button$
  #Click in Update Password
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.update_password_tab$
  #Fill the fields
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.current_password_input$
      Value: $AND_CLI_carepartner_user1_pwd$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.new_password_input$
      Value: $AND_CLI_alternative_correct_password$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.confirm_new_password_input$
      Value: $AND_CLI_alternative_correct_password$
  #Click the Change My Password button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.change_my_password_button$
  #Verify the alert for "Password updated successfully" is displayed
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.password_updated_successfully_alert_msg$
  #Calling Logout case
    - Type: case
      Value: CarePlatformLogout
  #Setting the password var to the new value
    - Type: set_env_var
      Value: $AND_CLI_alternative_correct_password$
      Var: carepartner_user1_pwd
  #Calling Login case
    - Type: case
      Value: CarePartnerLogin
  #Verify the login with the new password was successful
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
  #Restore the password
  #Going to My Account
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.myaccount_menu_button$
  #Click in Update Password
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.update_password_tab$
  #Set the password var to the new value
    - Type: set_env_var
      Value: $AND_CLI_ENV_PASS_STORE$
      Var: carepartner_user1_pwd
  #Fill the fields
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.current_password_input$
      Value: $AND_CLI_alternative_correct_password$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.new_password_input$
      Value: $AND_CLI_carepartner_user1_pwd$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.confirm_new_password_input$
      Value: $AND_CLI_carepartner_user1_pwd$
  #Click the Change My Password button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.change_my_password_button$

#Alternative Update Password on the CarePlatform
AlternativeCarePlatformUpdatePassword:
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    #Going to My Account
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.myaccount_menu_button$
  #Click in Update Password
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.update_password_tab$
  #Verify the elements
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.confirm_new_password_input$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.confirm_new_password_label$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.new_password_input$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.new_password_label$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.current_password_input$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.current_password_label$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_cancel_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.change_my_password_button$
  #Fill the fields with invalid values
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.current_password_input$
      Value: $AND_CLI_carepartner_user1_pwd$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.new_password_input$
      Value: $AND_CLI_alternative_incorrect_password$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.confirm_new_password_input$
      Value: $AND_CLI_alternative_incorrect_password$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.change_my_password_button$
  #Verify a red alert text showed up
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.password_requirements_alert_text$
  #Click in Cancel
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_cancel_button$
  #Verify the dialog is closed
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_cancel_button$
      Time: 10
  #Going to My Account
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.myaccount_menu_button$
  #Click in Update Password
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.update_password_tab$
  #Fill the fields
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.current_password_input$
      Value: $AND_CLI_carepartner_user1_pwd$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.new_password_input$
      Value: $AND_CLI_alternative_correct_password$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.confirm_new_password_input$
      Value: $AND_CLI_alternative_correct_password$
  #Click the Change My Password button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.change_my_password_button$
  #Verify the alert for "Password updated successfully" is displayed
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.password_updated_successfully_alert_msg$
  #Calling Logout case
    - Type: case
      Value: AlternativeCarePartnerLogout
  #Setting the password var to the new value
    - Type: set_env_var
      Value: $AND_CLI_alternative_correct_password$
      Var: carepartner_user1_pwd
  #Calling Login case
    - Type: case
      Value: CarePartnerLogin
  #Verify the login with the new password was successful
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
  #Restore the password
  #Going to My Account
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.myaccount_menu_button$
  #Click in Update Password
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.update_password_tab$
  #Set the password var to the new value
    - Type: set_env_var
      Value: $AND_CLI_ENV_PASS_STORE$
      Var: carepartner_user1_pwd
  #Fill the fields
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.current_password_input$
      Value: $AND_CLI_alternative_correct_password$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.new_password_input$
      Value: $AND_CLI_carepartner_user1_pwd$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.confirm_new_password_input$
      Value: $AND_CLI_carepartner_user1_pwd$
  #Click the Change My Password button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.change_my_password_button$

CarePlatformUpdateInfo:
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
#Going to My Account
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.myaccount_menu_button$  
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.modal_title$
  #Saving original firstname, and adding a 1 to form input
    - Type: get_attribute
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.firstname_input$
      Greps:
        - var: FIRSTNAME_ORIG
          attr: value
          condition: nempty
          match: "(.*)"
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.firstname_input$
      Value: '1'
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.modal_title$
    - Type: get_attribute
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.firstname_input$
      Greps:
        - var: FIRSTNAME_NEW
          attr: value
          condition: nempty
          match: "(.*)" 
  #Checking original and new name are not the same
    - Type: assert
      Asserts:
        - Type: ne
          Var: FIRSTNAME_ORIG
          Value: $AND_CLI_FIRSTNAME_NEW$
  #Verify that the email input can't be modify
    - Type: wait_for_attribute
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.email_input$
      Attribute: disabled
      Value: true
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.save_changes_button$  
  #Wait for the success alert message
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.success_alert_msg$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.success_alert_msg$
      Time: 10
  # Open the user dropdown on header and verify that the name in the dropdown reflects the new change to the firstname
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: get_text
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_user_name$ # Update TC
      Greps:
        - var: NEW_NAME
          condition: nempty
          match: "(.*)"
    - Type: assert
      Asserts:
        - Type: contain
          Var: NEW_NAME
          Value: $AND_CLI_FIRSTNAME_NEW$
  #Going again to the My Account Modal
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.myaccount_menu_button$  
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.modal_title$
  #Changing back the first name as it was originally
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.firstname_input$
      Value: "backspace"
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.save_changes_button$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.success_alert_msg$
      Time: 10
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.myaccount_menu_button$
    - Type: get_attribute
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.firstname_input$
      Greps:
        - var: BACK_NAME
          attr: value
          condition: nempty
          match: "(.*)"
    - Type: assert
      Asserts:
        - Type: eq
          Var: BACK_NAME
          Value: $AND_CLI_FIRSTNAME_ORIG$
  #Check error on phone number #Phone number is no longer an input in this view
    - Type: wait_for_attribute
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.email_input$
      Attribute: disabled
      Value: true
    - Type: wait_for_attribute
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.contact_number$
      Attribute: disabled
      Value: true
    - Type: get_attribute
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.contact_number$
      Greps:
        - var: CONTACT_NUMBER
          attr: value
          condition: nempty
          match: "(.*)"
  #Go to Text Notification tab to change phone number
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.text_notification_tab$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.phone_input$
  #Check that Contact Number in My Info is equal to Phone Number in Text Notification
    - Type: get_attribute
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.phone_input$
      Greps:
        - var: PHONE_NUMBER
          attr: value
          condition: nempty
          match: "(.*)"
    - Type: assert
      Asserts:
        - Type: eq
          Var: PHONE_NUMBER
          Value: $AND_CLI_CONTACT_NUMBER$
  #Set a Phone Input
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.phone_input$
      Value: 4373334444
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.notification_text_save_button$  
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.saved_account_info_notification$
  #Check invalid phone number error message
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.phone_input$
      Value: "backspace"
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.notification_text_save_button$  
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.phone_error_message$
  #Change tab
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.my_info_tab$
  #Go back to text notification tab
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.text_notification_tab$
  #Use button cancel of the modal
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.cancel_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.cancel_button$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_myaccount_info.modal_title$
      Time: 2

AnswerCallAsCarePartner:
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # Login to the Care Platform app with Care Partners account.
    - Type: case
      Value: CarePartnerLogin
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_home.call_based_on_participant_name$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_home.call_based_on_participant_name$
    - Type: sleep
      Time: 2
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_home.answer_call$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_home.answer_call$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.end_call_button$

PostCallSurveyCarePartner:
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # End the call on care partner side - Teardown.
    # Fill the notes
    - Type: generate_unique_name
      Name: "Automation subject"
      ResultVar: UNIQUE_SUBJECT
    - Type: send_keys
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.providers_call_handling_page.subject_input$
      Value: $AND_CLI_UNIQUE_SUBJECT$
    - Type: send_keys
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.providers_call_handling_page.details_textarea$
      Value: Automation Tear Down post call survey    
    - Type: wait_for_property
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.complete_session_btn$ 
      Property: disabled
      Value: "false"
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.complete_session_btn$             
    # Fill the Post-call Survey
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.non_medical_radiobtn$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.non_medical_radiobtn$             
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.issue_resolved_yes_radiobutton$          
    - Type: click
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.medical_question_option$
    - Type: click
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.subcategory_select$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.located_provider_option$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_and_exit_session_button$
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.call_completed_notification$
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform.call_queue_title$
      CheckTime: 25

# Custom helper to send backspace keys to the subject input on the call portal.
CarePartnerClearSubjectInputField:
  Environment: Settings
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.subject_input$
      Value: backspace

CarePartnerNavigateToParticipants:
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # Navigate to Participants.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_participant$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.participants_title$ 
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_participant.participants_title$ 
      Property: textContent
      Value: "Participants"

CarePartnerNavigateToFacilities:
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # Navigate to Facilities.
    - Type: click
      Strategy: xpath
      Id: $PAGE.providers_home_page.facilities_navigation$
    - Type: get_attribute
      Strategy: xpath
      Id: $PAGE.providers_home_page.facilities_navigation$
      Greps:
        - var: ACTIVE_CLASS
          attr: class
          condition: nempty
          match: "(.*)"
    - Type: assert
      Asserts:
        - Type: contain
          Var: ACTIVE_CLASS
          Value: "active"
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.providers_facilities_page.facilities_header_title$

CarePartnerNavigateToHome:
  Environment: Settings
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # Navigate to Home.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform.call_queue_title$

CarePartnerSendMessageToSenior:
  Environment: Settings
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # Log in.
    - Type: case
      Value: CarePartnerLogin
    # Navigate to Participants.
    - Type: case
      Value: CarePartnerNavigateToParticipants
    # Decrease listing by searching participant's name
    - Type: search_by_text
      Role: desktopChrome
      Text: $AND_CLI_senior_user1_name$
    # Click on the desired participant.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_complete_name$
    # Click on "Records".
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.records_button$
    # Page refreshes to show the Participant record:
    # Name and DOB at top of left panel.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant_records.participant_name$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant_records.participant_dob$
    # Verify that there is a message field.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant_records.message_input$
    # Send a Message to the Participant (Senior).
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_participant_records.message_input$
      Value: $AND_CLI_MESSAGE_TO_PARTICIPANT$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant_records.message_submit_button$
    # Log out.
    - Type: case
      Value: CarePlatformLogout

CarePartnerCallSenior:
  Environment: Settings
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # Log in.
    - Type: case
      Value: CarePartnerLogin
    # Navigate to Participants.
    - Type: case
      Value: CarePartnerNavigateToParticipants
    # Decrease listing by searching participant's name
    - Type: search_by_text
      Role: desktopChrome
      Text: $AND_CLI_senior_user1_name$
    # Click on the desired participant.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_complete_name$
    # Click on the Call Portal button.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.call_portal_btn$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.call_portal_btn$
    # Click "Call Participant" button.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.call_participant_btn$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.call_participant_btn$
    # Verify that the call has started.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.call_camera_button$

ForgotPasswordCarePlatformLoginLink:
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
  #Navigating to the Care Platform login page
    - Type: maximize
    - Type: navigate
      Role: desktopChrome
      Value: $AND_CLI_care_platform_url$
  #Opening the forgot password dialog
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_login.forgot_password_button$
  #Closing the dialog
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_cancel_button$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_submit_button$
  #Opening the forgot password dialog
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_login.forgot_password_button$
  #Submitting the email
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_email_input$
      Value: $AND_CLI_carepartner_user1$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_submit_button$
  #Verify the Thank You text showed up
    - Type: get_text  
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_thank_you_title$
      Greps:
      - var: THANK_YOU_TEXT
        match: "(.*)"
    - Type: assert
      Asserts: 
      - Type: eq 
        Var: THANK_YOU_TEXT
        Value: "Thank You"
        raise: true
  #Closing the Thank You dialog   
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_close_icon_button$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_login.dialog_submit_button$
  #Step 6 and 7 needs access to the email account provided in previous step
  #Access to the confirmation email message, and link within to set new password
  #These steps cannot be done 

# Cleans the call queue of the Care Partners and Clears the hanged calls.
CarePartnerCleanCallQueueAndHangedCalls:
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Aftercases:
    - CarePlatformLogout
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
    # Log in.
    - Type: case
      Value: CarePartnerLogin
    # Clean Care Partner Call Queue and Hanged Calls.
    - Type: care_partner_clean_call_queue_and_hanged_calls

CarePartnerUser2CleanCallQueueAndHangedCalls:
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
    # Log in.
    - Type: case
      Value: CarePartnerLoginSecondaryUser
    # Clean Care Partner Call Queue and Hanged Calls.
    - Type: care_partner_clean_call_queue_and_hanged_calls
    # Log out.
    - Type: case
      Value: CarePlatformLogout

# Creates a Follow-up Ticket.
CarePartnerCreateFollowUpTicket:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
    # Navigate to the Participant Pane.
    - Type: case
      Value: CarePartnerParticipantPaneNavigation
    # Go to follow-up tickets tab.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.follow_up_tab_button$
    # Click on Create Ticket.
    - Type: scroll_to
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.create_ticket_division$
      Options: false
    - Type: click_js
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.create_ticket_button$
    # Fill Create Ticket's form.
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.ticket_subject_input$
      Value: $AND_CLI_FOLLOW_UP_TICKET$
    - Type: scroll_to
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.ticket_kind_label$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.ticket_kind_input$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.kind_medical_appointment_option$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.ticket_assigned_input$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.assigned_option_unassigned$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.assigned_option_based_on_name$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.ticket_date_input$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.current_date_option$
  # Save form.
    - Type: scroll_to
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.save_ticket_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.save_ticket_button$
  # Wait for notification.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.new_ticket_notification$
  # Navigate to Home.  
    - Type: case
      Value: CarePartnerNavigateToHome

# Care Partner sets the EMS Enabled to option the user sends, either true(yes) or false(no).
CarePartnerSetsEMSEnabledToXOption:
  Environment: Settings
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
    # Navigate to Participants.
    - Type: case
      Value: CarePartnerNavigateToParticipants
    # Decrease listing by searching participant's name
    - Type: search_by_text
      Role: desktopChrome
      Text: $AND_CLI_senior_user1_name$
    # Click on the desired participant.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_complete_name$
    # Click on "Records".
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.records_button$
    # Click on the "Edit Info" button.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant_records.edit_info_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant_records.edit_info_button$
    # Select the "Address/Emergency Phone" option on the navigation bar at the left.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_records.address_emergency_phone_navigation$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_records.address_emergency_phone_navigation$
    # Verify the user is redirected to the Address & Emergency Phone page.
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_records.edit_participant_form_label$
      Property: textContent
      Value: "Address & Emergency Phone"
    # Set "EMS Enabled" to "Yes/No/Default" depending on the user input on participant profile and save changes.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_address_emergency_phone.enable_ems_calls_option_based_on_user_input$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_address_emergency_phone.enable_ems_calls_option_based_on_user_input$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_records.save_changes_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.ems_data_updated_notification$
      Time: 30
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.ems_data_updated_notification$
      Time: 30
    # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$

CarePartnerEditParticipantNavigation:
  Environment: Settings
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
# Navigate to Participants
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_participant$
  # Limit listing by searching name
    - Type: search_by_text
      Role: desktopChrome
      Text: $AND_CLI_senior_user1_name$
  # Apply the Active filter
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.status_dropdown_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.status_dropdown_options$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.active_dropdown_option$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.active_dropdown_option$
  # Select first active participant by name in the list
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_complete_name$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_complete_name$
  # Go to Records
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.records_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant_records.participant_name$
  # Click on the "Edit Info" button.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant_records.edit_info_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant_records.edit_info_button$
    - Type: sleep
      Time: 1

CarePartnerParticipantPaneNavigation:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
  # Navigate to Participants.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_participant$
  # Limit listing by searching name.
    - Type: search_by_text
      Role: desktopChrome
      Text: $AND_CLI_senior_user1_name$
  # Apply the Active filter
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.status_dropdown_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.status_dropdown_options$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.active_dropdown_option$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.active_dropdown_option$
  # Select corresponding active participant by name in the list.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_complete_name$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_complete_name$
  # Verify that the Participant Pane is opened.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.records_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.participant_local_time$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.participant_details_title_by_name$

CarePartnerParticipantCallPortalNavigation:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
  # Navigate to Participants.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_participant$
  # Limit listing by searching name.
    - Type: search_by_text
      Text: $AND_CLI_senior_user1_name$
    - Type: sleep
      Time: 0.4
  # Apply the Active filter
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.status_dropdown_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.status_dropdown_options$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.active_dropdown_option$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.active_dropdown_option$
  # Select corresponding participant by name in the list.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_complete_name$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_complete_name$
  # Verify that the Participant Pane is opened.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.records_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.participant_local_time$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.participant_details_title_by_name$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.call_portal_btn$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.call_portal_btn$

CarePartnerToastValidation:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform.carepartner_toast_notification$
    - Type: count_elements
      Strategy: xpath
      Id: $PAGE.care_platform.carepartner_toast_notification$
      ResultVar: TOAST_COUNT
    - Type: assert
      Asserts:
        - Type: eq
          Var: TOAST_COUNT
          Value: "1"
    - Type: get_text
      Strategy: xpath
      Id: $PAGE.care_platform.carepartner_toast_notification$
      Greps:
        - var: TOAST_MESSAGE
          match: "(.*)"
    - Type: assert
      Role: desktopChrome
      Asserts:
        - Type: eq
          Var: TOAST_MESSAGE
          Value: $AND_CLI_TOAST_MESSAGE_SHOWN$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform.carepartner_toast_notification$

CarePartnerParticipantRecordsNavigation:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
  # Navigate to Participants
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_participant$
  # Decrease listing by searching participant's name
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.search_input$
    - Type: search_by_text
      Text: $AND_CLI_senior_user1_name$
  # Apply the Active filter
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.status_dropdown_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.status_dropdown_options$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.active_dropdown_option$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.active_dropdown_option$
  # Select first active participant by name in the list
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_complete_name$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_complete_name$
  # Go to Records
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant_details.records_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_participant_records.participant_name$

AddEditOrDeleteParticipantVendorInfo:
  Environment: Settings
  Vars:
    ADDRESS: 1000 Street Name, Somewhere, GA 30024
    WEBSITE: www.airportridesrus.com
    CATEGORY: careCoordination
    PHONE: 4365565897
    MODAL_NAME: Add Vendor
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
  # Variables to use for Add Vendor
    - Type: generate_unique_name
      Name: 'Airport Rides "R" Us'
      ResultVar: NAME
  # Steps to add a vendor
  # Clicking on "Add Vendor" button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.add_vendor_button$
  # Waiting for modal
    - Type: wait_for
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.vendor_modal$
  # Validate if "Add vendor" is opened
    - Type: get_text
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.modal_title_label$
      Greps:
        - var: MODAL_TITLE
          match: "(.*)"
    - Type: assert
      Role: desktopChrome
      Asserts:
        - Type: eq
          Var: MODAL_TITLE
          Value: $AND_CLI_MODAL_NAME$
  # Filling Vendor form 
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.select_category_modal_input$
  # Selecting a Category
    - Type:  wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.category_modal_input$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.category_modal_input$
  # Filling input form
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.field_name_modal_input$
      Value: $AND_CLI_NAME$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.field_address_modal_input$
      Value: $AND_CLI_ADDRESS$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.field_phone_modal_input$
      Value: $AND_CLI_PHONE$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.field_website_modal_input$
      Value: $AND_CLI_WEBSITE$
  # Closing "Add Vendor" modal
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.cancel_vendor_modal_button$
  # Wait to close modal
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.modal$
  # Validate if a Vendor have not been added
    - Type: set_env_var
      Value: $AND_CLI_NAME$
      Var: NEW_NAME
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.name_vendor_record$
  # Open Add "Vendor" modal
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.add_vendor_button$
  # Filling Vendor form 
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.select_category_modal_input$
  # Selecting a Category
    - Type:  wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.category_modal_input$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.category_modal_input$
  # Filling input form
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.field_name_modal_input$
      Value: $AND_CLI_NAME$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.field_address_modal_input$
      Value: $AND_CLI_ADDRESS$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.field_phone_modal_input$
      Value: $AND_CLI_PHONE$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.field_website_modal_input$
      Value: $AND_CLI_WEBSITE$
  # Click on "save and close" button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.save_close_modal_button$
  # Validate toast message and wait until toast is not visible
    - Type: set_env_var
      Value: Vendor created
      Var: TOAST_MESSAGE_SHOWN
    - Type: case
      Value: CarePartnerToastValidation
  # Steps to edit a vendor
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.edit_created_vendor_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.edit_created_vendor_button$
    - Type: set_env_var
      Value: Edit Vendor
      Var: MODAL_NAME
    - Type: get_text
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.modal_title_label$
      Greps:
        - var: MODAL_TITLE
          match: "(.*)"
    - Type: assert
      Role: desktopChrome
      Asserts:
        - Type: eq
          Var: MODAL_TITLE
          Value: $AND_CLI_MODAL_NAME$
  # Remove current vendor name
    - Type: clear_field_by_backspace
      Strategy: id 
      Id: $PAGE.care_platform_edit_participants_vendor.field_name_modal_input$
  # Create a new vendor name
    - Type: generate_unique_name
      Name: 'New airport "L" Us'
      ResultVar: NEW_NAME
  # Fill input name vendor
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.field_name_modal_input$
      Value: $AND_CLI_NEW_NAME$
  # Closing "Edit Vendor" modal
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.cancel_vendor_modal_button$
  # Validate if Vendor is edited
    - Type: set_env_var
      Value: $AND_CLI_NAME$
      Var: NEW_NAME
    - Type: get_text
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.name_vendor_record$
      Greps:
        - var: CATEGORY_VENDOR_NAME
          match: "(.*)"
    - Type: assert
      Role: desktopChrome
      Asserts:
        - Type: eq
          Var: CATEGORY_VENDOR_NAME
          Value: $AND_CLI_NAME$
  # Opend "Edit Vendor" modal
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.edit_created_vendor_button$
  # Delete current vendor name
    - Type: clear_field_by_backspace
      Strategy: id 
      Id: $PAGE.care_platform_edit_participants_vendor.field_name_modal_input$
  # Create a new vendor name
    - Type: generate_unique_name
      Name: 'New airport "L" Us'
      ResultVar: NEW_NAME
  # Fill input name vendor
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.field_name_modal_input$
      Value: $AND_CLI_NEW_NAME$
  # Click "Save and close" button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.save_close_modal_button$
  # Validate toast message
    - Type: set_env_var
      Value: Vendor saved
      Var: TOAST_MESSAGE_SHOWN
    - Type: case
      Value: CarePartnerToastValidation
  # Validate if the new change is applied
    - Type: get_text
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.name_vendor_record$
      Greps:
        - var: CATEGORY_VENDOR_NAME
          match: "(.*)"
    - Type: assert
      Role: desktopChrome
      Asserts:
        - Type: eq
          Var: CATEGORY_VENDOR_NAME
          Value: $AND_CLI_NEW_NAME$
  # Delete category 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.delete_created_vendor_button$
    - Type: wait_for
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.vendor_dialog$
  # Validate if "Delete Vendor" is opened
    - Type: set_env_var
      Value: Delete Vendor
      Var: MODAL_NAME
    - Type: get_text
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.dialog_title_label$
      Greps:
        - var: MODAL_TITLE
          match: "(.*)"
    - Type: assert
      Role: desktopChrome
      Asserts:
        - Type: eq
          Var: MODAL_TITLE
          Value: $AND_CLI_MODAL_NAME$
  # Closing "Delete Vendor" dialog
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.cancel_vendor_dialogs_button$
  # Checking if vendor is not deleted
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.name_vendor_record$
  # Open "Delete Vendor" dialog
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.delete_created_vendor_button$
    - Type: wait_for
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.vendor_dialog$
  # Confirm delete vendor
    - Type: wait_for
      Strategy: id
      Id: $PAGE.care_platform_edit_participants_vendor.vendor_dialog$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.delete_confirmation_modal$
  # Wait to close dialog
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participants_vendor.vendor_dialog$
  # Validate toast message
    - Type: set_env_var
      Value: Vendor deleted
      Var: TOAST_MESSAGE_SHOWN
  # Add Edit Or Delete vendor Info
    - Type: case
      Value: CarePartnerToastValidation

AddEditOrDeleteBehavioralInfo:
  Environment: Settings
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
  # Click "Add Issue" button in upper right corner.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.add_issue_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.add_issue_button$
  # "Add Issue" window appears in center of screen.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.add_or_edit_issue_modal_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.add_or_edit_issue_modal_title$
      Property: textContent
      Value:  Add Issue
  # Enter some information, then click the "Cancel" button.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.category_select$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.common_issues_option$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.common_issues_option$
    - Type: generate_unique_name
      Name: AutoIssue
      ResultVar: UNIQUE_ISSUE
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.issue_input$
      Value: $AND_CLI_UNIQUE_ISSUE$
  # Window closes and no issue is added for participant.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.cancel_button$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.edit_button_based_on_issue$
  # Click "Add Issue" button in upper right corner.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.add_issue_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.add_issue_button$
  # "Add Issue" window appears in center of screen.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.add_or_edit_issue_modal_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.add_or_edit_issue_modal_title$
      Property: textContent
      Value: Add Issue
  # Select a Category and enter a description of the issue before clicking "Save and Close" button.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.category_select$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.common_issues_option$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.common_issues_option$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.issue_input$
      Value: $AND_CLI_UNIQUE_ISSUE$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.save_and_close_button$
  # Window closes, the new issue entered is now displayed on the page, and toast notification appears at the top of the page.
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.add_or_edit_issue_modal_title$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.participant_changes_saved_notification$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.participant_changes_saved_notification$
  # Click "Edit" button for an existing issue.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.edit_button_based_on_issue$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.edit_button_based_on_issue$
  # "Edit Issue" window appears in center of screen, showing currently entered information.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.add_or_edit_issue_modal_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.add_or_edit_issue_modal_title$
      Property: textContent
      Value: Edit Issue
      CaseInsensitive: true
  # Update some of the information and click the "Cancel" button.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.category_select$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.common_issues_option$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.common_issues_option$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.issue_input$
      Value: $AND_CLI_UNIQUE_ISSUE$ Edit
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.cancel_button$
  # Returned to the page; without any changes being saved to the issue.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.add_issue_button$
  # Click "Edit" button for an existing issue.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.edit_button_based_on_issue$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.edit_button_based_on_issue$
  # "Edit Issue" window appears in center of screen, showing currently entered information.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.add_or_edit_issue_modal_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.add_or_edit_issue_modal_title$
      Property: textContent
      Value: Edit Issue
      CaseInsensitive: true
  # Make any changes to update both Category and Issue description and then click the "Save and Close" button.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.category_select$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.communication_option$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.communication_option$
    # Creating new name for issue.
    - Type: set_env_var
      Value: $AND_CLI_UNIQUE_ISSUE$ Edit
      Var: UNIQUE_ISSUE
    # Clear existing value from input field.
    - Type: clear_field_by_backspace
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.issue_input$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.issue_input$
      Value: $AND_CLI_UNIQUE_ISSUE$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.save_and_close_button$
  # Window closes, the updated issue information is now displayed on the profile page, and toast notification appears at the top of the page. Since the category was changed, the issue will now be displayed in the new category section.
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.add_or_edit_issue_modal_title$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.participant_changes_saved_notification$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.participant_changes_saved_notification$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.issue_label$
    - Type: get_text
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.issue_label$
      Greps:
        - var: ISSUE_NAME
          match: "(.*)"
    - Type: assert
      Asserts: 
      - Type: contain
        Var: ISSUE_NAME
        Value: $AND_CLI_UNIQUE_ISSUE$
  # Click "Delete" button for an existing issue.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.delete_button_based_on_issue$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.delete_button_based_on_issue$
  # "Delete Issue" window will appear confirming you would like to delete the entry.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.delete_issue_dialog_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.delete_issue_dialog_title$
      Property: textContent
      Value:  Delete Issue
  # Click "Cancel" button.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.cancel_button$
  # Returned to page without entry being deleted.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.delete_button_based_on_issue$
  # Click "Delete" button for an existing issue.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.delete_button_based_on_issue$
  # "Delete Issue" window will appear confirming you would like to delete the entry.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.delete_issue_dialog_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.delete_issue_dialog_title$
      Property: textContent
      Value:  Delete Issue
  # Click "Yes, Delete" to confirm delete request.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.yes_delete_button$
  # Window closes, the deleted issue is no longer present on the profile page, and toast notification appears at the top of the page.
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_health_overview.delete_issue_dialog_title$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.participant_changes_saved_notification$

#Helper to manage basic provider's information for Participant
ManageParticipantProviderInformation:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
  # Add Provider By Type
  # E.g. 'Preferred Lab'
    - Type: scroll_to
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.add_provider_by_type$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.add_provider_by_type$
    - Type: click_js
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.add_provider_by_type$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participant_providers.name_input$
      Value: Automated test name
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participant_providers.phone_input$
      Value: $AND_CLI_PROVIDER_DUMMY_PHONE$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.cancel_button$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.cancel_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.add_provider_by_type$
  # Enter necessary information, then click “Save and Close”
    - Type: click_js
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.add_provider_by_type$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participant_providers.name_input$
      Value: $AND_CLI_PROVIDER_NAME$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participant_providers.phone_input$
      Value: $AND_CLI_PROVIDER_DUMMY_PHONE$
    - Type: sleep
      Time: 0.5
    - Type: send_keys_if_exist
      Strategy: id
      Id: $PAGE.care_platform_edit_participant_providers.member_id_input$
      Value: 64
    - Type: send_keys_if_exist
      Strategy: id
      Id: $PAGE.care_platform_edit_participant_providers.speciality_input$
      Value: cardio
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.save_and_close_button$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.save_and_close_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.provider_created_notification$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.dismiss_notification_button$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.dismiss_notification_button$
  # Check that the entry is really there, and have a Edit and Delete button
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.edit_provider_by_name_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.delete_provider_by_name_button$
  # Try to Edit and cancel, changes shouldn't stick
    - Type: click_js
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.edit_provider_by_name_button$
    - Type: wait_for
      Strategy: id
      Id: $PAGE.care_platform_edit_participant_providers.name_input$
    - Type: get_attribute
      Strategy: id
      Id: $PAGE.care_platform_edit_participant_providers.name_input$
      Greps:
        - var: CURRENT_INPUT
          attr: value
          condition: nempty
          match: "(.*)"
    - Type: assert
      Asserts: 
      - Type: eq
        Var: PROVIDER_NAME
        Value: $AND_CLI_CURRENT_INPUT$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participant_providers.name_input$
      Value: " Edit"
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.cancel_button$
    # Modal's gone
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.cancel_button$
    # Check is not changed
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.provider_by_name_block$
  # Try Edit and Save changes
    - Type: scroll_to
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.edit_provider_by_name_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.edit_provider_by_name_button$
    - Type: click_js
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.edit_provider_by_name_button$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_edit_participant_providers.name_input$
      Value: " Edit"
    - Type: get_attribute
      Strategy: id
      Id: $PAGE.care_platform_edit_participant_providers.name_input$
      Greps:
        - var: CURRENT_INPUT
          attr: value
          condition: nempty
          match: "(.*)"
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.save_and_close_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.provider_saved_notification$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.dismiss_notification_button$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.dismiss_notification_button$
    - Type: set_env_var
      Value: $AND_CLI_CURRENT_INPUT$
      Var: PROVIDER_NAME
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.delete_provider_by_name_button$
  # Try Delete and Cancel
    - Type: click_js
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.delete_provider_by_name_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.delete_provider_modal_title$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.provider_confirmation_name$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.cancel_button$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.cancel_button$
  # Try Delete and Confirm
    - Type: click_js
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.delete_provider_by_name_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.delete_provider_modal_title$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.provider_confirmation_name$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.yes_delete_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.provider_deleted_notification$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.dismiss_notification_button$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.dismiss_notification_button$

CheckHealthInsuranceRequiredDataMessages:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
  # Add Provider By Type
  # E.g. 'Health Insurance'
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.add_provider_by_type$
  # Click on Save and Close to prompt the required data message
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.save_and_close_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.save_and_close_button$
  # Check we have a message for Name, Phone and Member ID
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.required_name_message$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.required_phone_message$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.required_member_id_message$
  # Check that the Group ID is hidden
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.group_id_input_message$
    - Type: get_attribute
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.group_id_input_message$
      Greps:
        - var: IS_HIDDEN
          attr: aria-hidden
          condition: nempty
          match: "(.*)"
    - Type: assert
      Asserts:
        - Type: eq
          Var: IS_HIDDEN
          Value: 'true'
  # Click on Cancel button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.cancel_button$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_providers.cancel_button$

EditInsuranceOrProviderInformationHelper:
  Vars:
    LOGOUT_OPTION: 'Go Off Shift'
    PROVIDER_NAME: 'Primary Care Physician Automation'
    PROVIDER_DUMMY_PHONE: 8099999999
    PROVIDER_TYPE: 'Primary Care Physician'
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
  # Primary Care Physician
    # Call helper to test add, edit and delete
    - Type: case
      Value: ManageParticipantProviderInformation
  # Health Insurance
    # Set values to provider “Health Insurance”
    - Type: set_env_var
      Value: Health Insurance Automation
      Var: PROVIDER_NAME
    - Type: set_env_var
      Value: Health Insurance
      Var: PROVIDER_TYPE
    # Call helper to test add, edit and delete
    - Type: case
      Value: ManageParticipantProviderInformation
    # Check required Data
    - Type: case
      Value: CheckHealthInsuranceRequiredDataMessages
  # Pharmacy
    # Set values to provider “Pharmacy”
    - Type: set_env_var
      Value: Pharmacy Automation
      Var: PROVIDER_NAME
    - Type: set_env_var
      Value: Pharmacy
      Var: PROVIDER_TYPE
    # Call helper to test add, edit and delete
    - Type: case
      Value: ManageParticipantProviderInformation
  # Preferred Lab
    # Set values to provider "Preferred Lab”
    - Type: set_env_var
      Value: Preferred Lab Automation
      Var: PROVIDER_NAME
    - Type: set_env_var
      Value: Preferred Lab
      Var: PROVIDER_TYPE
    # Call helper to test add, edit and delete
    - Type: case
      Value: ManageParticipantProviderInformation
  # Specialists
    # Set values to provider “Specialists”
    - Type: set_env_var
      Value: Specialists Automation
      Var: PROVIDER_NAME
    - Type: set_env_var
      Value: Specialist
      Var: PROVIDER_TYPE
    # Call helper to test add, edit and delete
    - Type: case
      Value: ManageParticipantProviderInformation

AddEditOrDeleteContacts:
  Environment: Settings
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
  # Page refreshes to show the edit mode for contacts on the participant’s profile.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_contact_button$
  # Click "Add Contact" button in upper right corner.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_contact_button$
  # "Add Contact" window appears in center of screen.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_or_edit_contact_modal_title$
  # "Add Contact" window appears in center of screen.  
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_or_edit_contact_modal_title$
      Property: textContent
      Value:  Add Contact
  # Enter some information, then click the "Cancel" button.
    - Type: generate_unique_name
      Name: Auto
      ResultVar: UNIQUE_FIRST_NAME
    - Type: generate_unique_name
      Name: Mation
      ResultVar: UNIQUE_LAST_NAME
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_contact_first_name_input$
      Value: $AND_CLI_UNIQUE_FIRST_NAME$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_contact_last_name_input$
      Value: $AND_CLI_UNIQUE_LAST_NAME$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_contact_phone_number_input$
      Value: "7879910101"
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.cancel_button$
  # Window closes and no contact is added for participant.
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.edit_button_based_on_contact_name$
  # Click "Add Contact" button in upper right corner.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_contact_button$
  # "Add Contact" window appears in center of screen.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_or_edit_contact_modal_title$
  # "Add Contact" window appears in center of screen.  
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_or_edit_contact_modal_title$
      Property: textContent
      Value:  Add Contact
  # Populate contact details before clicking "Save and Close" button.
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_contact_first_name_input$
      Value: $AND_CLI_UNIQUE_FIRST_NAME$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_contact_last_name_input$
      Value: $AND_CLI_UNIQUE_LAST_NAME$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_contact_phone_number_input$
      Value: "7879910101"
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.save_and_close_button$
  # Window closes, the new contact entered is now displayed on the page, and toast notification appears at top of page.
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_or_edit_contact_modal_title$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.contact_created_notification$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.contact_created_notification$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.phone_number_label_based_on_contact_name$
    - Type: get_text
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.phone_number_label_based_on_contact_name$
      Greps:
        - var: FIRST_PHONE_VALUE
          match: "(.*)"
  # Click "Edit" button for an existing contact.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.edit_button_based_on_contact_name$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.edit_button_based_on_contact_name$
  # "Edit Contact" window appears in center of screen, showing currently entered information.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_or_edit_contact_modal_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_or_edit_contact_modal_title$
      Property: textContent
      Value:  Edit Contact
  # Update some of the information and click the "Cancel" button.
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_contact_phone_number_input$
      Value: "7879921101"
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.cancel_button$
  # Returned to the page; without any changes being saved to the contact.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.phone_number_label_based_on_contact_name$
    - Type: get_text
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.phone_number_label_based_on_contact_name$
      Greps:
        - var: SECOND_PHONE_VALUE
          match: "(.*)"
    - Type: assert
      Asserts:
        - Type: eq
          Var: FIRST_PHONE_VALUE
          Value: $AND_CLI_SECOND_PHONE_VALUE$
  # Click "Edit" button for an existing contact.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.edit_button_based_on_contact_name$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.edit_button_based_on_contact_name$
  # "Edit Contact" window appears in center of screen, showing currently entered information.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_or_edit_contact_modal_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_or_edit_contact_modal_title$
      Property: textContent
      Value:  Edit Contact
  # Make any changes desired before clicking "Save and Close" button.
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_contact_phone_number_input$
      Value: "7879921101"
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.save_and_close_button$
  # Window closes, the updated contact information is now displayed on the page, and toast notification appears at top of page.
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.add_or_edit_contact_modal_title$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.contact_saved_notification$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.contact_saved_notification$
  # Click "Delete" button for an existing contact.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.delete_button_based_on_contact_name$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.delete_button_based_on_contact_name$
  # "Delete Contact" window will appear confirming you would like to delete the entry.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.delete_contact_dialog_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.delete_contact_dialog_title$
      Property: textContent
      Value:  Delete Contact
  # Click "Cancel" button.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.cancel_button$
  # Returned to page without entry being deleted.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.delete_button_based_on_contact_name$
  # Click "Delete" button for an existing contact.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.delete_button_based_on_contact_name$
  # "Delete Contact" window will appear confirming you would like to delete the entry.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.delete_contact_dialog_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.delete_contact_dialog_title$
      Property: textContent
      Value:  Delete Contact
  # Click "Yes, Delete" to confirm delete request.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.yes_delete_button$
  # Window closes, the deleted contact is no longer present on the page, and toast notification appears at top of page.
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_contacts.delete_contact_dialog_title$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.contact_deleted_notification$

EditOrAddEmergencyRoomAdmissions:
  Environment: Settings
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
  # Click "Add Emergency Room Admission" button in upper right corner.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.emergency_room_add_admission_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.emergency_room_add_admission_button$
  # "Add Emergency Room Admission" window appears in center of screen.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_modal_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_modal_title$
      Property: textContent
      Value:  Add Emergency Room Admission
  # Enter some information, then click the "Cancel" button.
    - Type: get_timestamp
      Format: "%Y-%m-%d" #YYYY-MM-DD
      Var: TODAY_DATE
    - Type: generate_unique_name
      Name: AutoFacility
      ResultVar: UNIQUE_FACILITY
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_date_input$
      Value: $AND_CLI_TODAY_DATE$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_facility_input$
      Value: $AND_CLI_UNIQUE_FACILITY$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_diagnosis_input$
      Value: Automation Diagnosis
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.cancel_button$
  # Window closes and no admission entry is added for participant.
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_modal_title$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.edit_button_based_on_emergency_room_admissions_facility$
  # Click "Add Emergency Room Admission" button in upper right corner.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.emergency_room_add_admission_button$
  # "Add Emergency Room Admission" window appears in center of screen.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_modal_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_modal_title$
      Property: textContent
      Value:  Add Emergency Room Admission
  # Populate admission details before clicking "Save and Close" button.
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_date_input$
      Value: $AND_CLI_TODAY_DATE$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_facility_input$
      Value: $AND_CLI_UNIQUE_FACILITY$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_diagnosis_input$
      Value: Automation Diagnosis
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.save_and_close_button$
  # Window closes, the new admission entry entered is now displayed on the page, and toast notification appears at the top of the page.
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_modal_title$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.emergency_room_admission_created_notification$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.emergency_room_admission_created_notification$
  # Click "Edit" button for an existing admission.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.edit_button_based_on_emergency_room_admissions_facility$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.edit_button_based_on_emergency_room_admissions_facility$
  # "Edit Emergency Room Admission" window appears in center of screen, showing currently entered information.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_modal_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_modal_title$
      Property: textContent
      Value:  Edit Emergency Room Admission
  # Update some of the information and click the "Cancel" button.
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_diagnosis_input$
      Value: Updated
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.cancel_button$
  # Returned to the page; without any changes being saved to the entry.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.diagnosis_label_based_on_emergency_room_admissions_facility$
    - Type: return_element_attribute
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.diagnosis_label_based_on_emergency_room_admissions_facility$
      Attribute: textContent
      ResultVar: SECOND_DIAGNOSIS_VALUE
    - Type: assert
      Asserts:
        - Type: contain
          Var: SECOND_DIAGNOSIS_VALUE
          Value: Automation Diagnosis
  # Click "Edit" button for an existing admission.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.edit_button_based_on_emergency_room_admissions_facility$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.edit_button_based_on_emergency_room_admissions_facility$
  # "Edit Emergency Room Admission" window appears in center of screen, showing currently entered information.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_modal_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_modal_title$
      Property: textContent
      Value:  Edit Emergency Room Admission
  # Make any changes desired before clicking "Save and Close" button.
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_diagnosis_input$
      Value: Updated
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.save_and_close_button$
  # Window closes, the updated admission information is now displayed on the page, and toast notification appears at the top of the page
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.add_or_edit_emergency_room_admission_modal_title$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.emergency_room_admission_saved_notification$
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.emergency_room_admission_saved_notification$
  # Click "Delete" button for an existing admission.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.delete_button_based_on_emergency_room_admissions_facility$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.delete_button_based_on_emergency_room_admissions_facility$
  # "Delete Emergency Room Admission" window will appear confirming you would like to delete the entry.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.delete_emergency_room_admission_dialog_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.delete_emergency_room_admission_dialog_title$
      Property: textContent
      Value:  Delete Emergency Room Admission
  # Click "Cancel" button.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.cancel_button$
  # Returned to page without entry being deleted.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.delete_button_based_on_emergency_room_admissions_facility$
  # Click "Delete" button for an existing admission.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.delete_button_based_on_emergency_room_admissions_facility$
  # "Delete Emergency Room Admission" window will appear confirming you would like to delete the entry.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.delete_emergency_room_admission_dialog_title$
    - Type: wait_for_property
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.delete_emergency_room_admission_dialog_title$
      Property: textContent
      Value:  Delete Emergency Room Admission
  # Click "Yes, Delete" to confirm delete request.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.yes_delete_button$
  # Window closes, the deleted admission is no longer present on the page, and toast notification appears at the top of the page.
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_edit_participant_hospitalization.delete_emergency_room_admission_dialog_title$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.emergency_room_admission_deleted_notification$

MakeMedicalTransferWhileOnCall:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
  # Click "Medical" button in video call window so the participant speaks to a doctor while on the call.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.medical_transfer_btn$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.medical_transfer_btn$
      # "Telehealth request form" appears to the left of video call window.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.telehealth_request_form_header$
  # Click on "Submit" and verify that the form can't be submitted.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_error_label$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.reason_for_request_error_label$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.symptoms_start_input_error_label$
  # Fill in the required fields:
  # Priority level, Reason for request and When did symptoms start?
  # Urgent patient matter
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_yes_option$
  # Reason for request
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.reason_for_request_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.first_reason_for_request_available_option$
  # When did symptoms start      
    - Type: click
      Strategy: class
      Id: $PAGE.care_platform_call_portal.symptoms_start_input_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
  # Patient location
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.location_selector$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.location_option_2$
  # Click on "Submit".
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_btn$
  # Telehealth request form window disappears.
    - Type: wait_not_visible
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.telehealth_request_form_header$
  # Verify "End Call" button has been replaced with "Leave Call" button.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.leave_call_btn$

AlternativeCarePartnerLogout:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:     
      # Log out to the Care Platform app with Care Partners account
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.logout_menu_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_logout_modal.yes_logout_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_logout_modal.yes_logout_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_login.login_button$
