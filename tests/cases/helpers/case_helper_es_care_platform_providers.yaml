ESProvidersCarePlatformLogin:
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:      
      # Login to Providers Care Platform
    - Type: maximize
    - Type: navigate
      Value: $AND_CLI_easterseals_care_platform_url$
    - Type: get_text
      Strategy: xpath
      Id : $PAGE.care_platform_login.login_button$
      Greps:
      - var: login_text
        match: "Log In"
    - Type: assert
      Asserts: 
      - Type: eq
        Var: login_text
        Value: "Log In"  
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_login.email_input$
      Value: $AND_CLI_es_provider_user1$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_login.password_input$
      Value: $AND_CLI_es_provider_user1_pwd$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_login.login_button$

ESProviderCleaner:
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Aftercases:
    - CarePlatformLogout
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # Login to the Care Platform app with Providers account.
    - Type: case
      Value: ESProvidersCarePlatformLogin
    - Type: case
      Value: ProviderEndCurrentCall