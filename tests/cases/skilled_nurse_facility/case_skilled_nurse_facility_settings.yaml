# CXTB-44 Redirection to Home page
TestSNFRedirectionToHomeFromSettings:
  Environment: Settings
  Aftercases:
    - TerminateApp
  Roles:
    - Role: localiOS
      Capabilities:
        newCommandTimeout: 320
      App: NeverAlone
  Actions:
  # Log in
    - Type: case
      Value: LoginSNFHelper
    - Type: case
      Value: SeniorCleanPrompts
  # View a Settings page and do not perform any action or navigation for 5 minutes
    - Type: click
      Strategy: class_chain
      Id: $PAGE.seniors_app_home.settings_icon$
    - Type: wait_for
      Strategy: class_chain
      Id: $PAGE.snf_settings_page.settings_page_title$
    # 5 minutes = 300 secs + 2 secs for good measure
    - Type: sleep
      Time: 302
  # Check that you are at Home Page
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.snf_home.new_request_btn$
  # Click back into Settings from the Home page
    - Type: click
      Strategy: class_chain
      Id: $PAGE.seniors_app_home.settings_icon$
  # Click Close in upper right corner
    - Type: wait_for
      Strategy: class_chain
      Id: $PAGE.snf_settings_page.close_button$
    - Type: click
      Strategy: class_chain
      Id: $PAGE.snf_settings_page.close_button$
  # Check that you are at Home Page
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.snf_home.new_request_btn$