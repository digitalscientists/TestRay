#CXTB-113- Review Your Upcoming Appointments & Calendar for Employee EHP User accounts
TestEmployeeHealthPortalReviewUpcomingAppointment:
  Environment: Settings
  Roles: 
    - Role: desktopChrome
      App: "desktop"
  Actions:
  #Creating appointment
    - Type: case
      Case: TestEmployeeHealthPortalRequestAnAppointmentForUser
  #View information in "My schedule" tab on portal home page
    - Type: click
      Strategy: xpath
      Id: $PAGE.employee_health_home_page.schedule_tab_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.employee_health_home_page.container_tab$
  # check if we have a coming scheduled event
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.employee_health_home_page.upcoming_appointment_title$
    - Type: get_attribute
      Strategy: xpath
      Id: $PAGE.employee_health_home_page.upcoming_appointment_title$
      Greps:
        - var: MANYAPPOINTMENTS
          attr: textContent
          condition: nempty
          match: "(.*)"
    - Type: assert
      Asserts:
        - Type: ne
          Var: MANYAPPOINTMENTS
          Value: 0 Upcoming Appointments
    # choosing Date
    - Type: click
      Strategy: xpath
      Id: $PAGE.employee_health_home_page.calendar_right_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.employee_health_home_page.calendar_month_view$
    - Type: click
      Strategy: xpath
      Id: $PAGE.employee_health_home_page.calendar_day_button$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.employee_health_home_page.tabs_no_results$
    # Click on the View upcoming appointments
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.employee_health_home_page.view_upcoming_appointment_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.employee_health_home_page.view_upcoming_appointment_button$