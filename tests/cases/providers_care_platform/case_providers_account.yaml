#CXTB-204 “Update password” Workflow in My account Modal
TestProvidersUpdatePassword:
  Environment: Settings 
  Vars:
    LOGOUT_OPTION: "Stay On Shift"
    ENV_PASS_STORE: $AND_CLI_provider_user1_pwd$
  Roles:
    - Role: desktopChrome
      App: "desktop"
  Actions:
  # Log in to Care Platform as a Provider.
    - Type: case
      Value: ProvidersCarePlatformLogin
    - Type: set_env_var
      Value: $AND_CLI_provider_user1$
      Var: carepartner_user1
    - Type: set_env_var
      Value: $AND_CLI_provider_user1_pwd$
      Var: carepartner_user1_pwd
    - Type: case
      Value: CarePlatformUpdatePassword

#CXTB-201 ProviderCarePlatform - Manually Log Out of Portal & Stay On Shift
TestProviderLogOutStayOnShift:
  Environment: Settings 
  Vars:
    LOGOUT_OPTION: "Stay On Shift"
    CARE_PARTNER_USER1_FULLNAME: $AND_CLI_provider_user1_name$ $AND_CLI_provider_user1_lastname$
  Roles:
    - Role: desktopChrome
      App: "desktop"
  Actions:
  # Calling Login case.
    - Type: case
      Value: ProvidersCarePlatformLogin
  # Calling Logout case.
    - Type: case
      Value: CarePlatformLogout
  # NOTE: Step 4 was skipped because it involved verifying text messages,
  # This step needed to call from SNF and then validate that care partner did receive text notification.
  # Continued on Step 5.
  # Log in with the second user.
    - Type: case
      Value: ProviderLoginSecondaryUser
  # Click on the users dropdown.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.users_dropdown_button$
  # Verify that the first user has stayed on shift.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_header.onshift_carepartner1_element$

#CXTB-203 Open “My account” Window & Review or Update “My info”
TestProviderUpdateAccountInfo:
  Environment: Settings 
  Roles:
    - Role: desktopChrome
      App: "desktop"
  Actions:
  # Log in with the second user.
    - Type: case
      Value: ProviderLoginSecondaryUser
  # Call case to update info
    - Type: case
      Value: CarePlatformUpdateInfo