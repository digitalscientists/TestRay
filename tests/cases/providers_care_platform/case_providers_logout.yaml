# CXTB-199 Manually Log Out of Portal and Go Off Shift
TestProviderLogOutPortalEndShift:
  Environment: Settings
  Vars:
    LOGOUT_OPTION: "Stay Off Shift"
    CARE_PARTNER_USER1_FULLNAME: $AND_CLI_provider_user1_name$ $AND_CLI_provider_user1_lastname$
  Roles:
    - Role: desktopChrome
      App: "desktop"
  Actions:
    # Calling Login case.
    - Type: case
      Value: ProvidersCarePlatformLogin
    # Calling Logout case.
    - Type: case
      Value: CarePlatformLogout
    # NOTE: Step 4 was skipped because it involved verifying text messages,
    # This step needed to call from SNF and then validate that care partner did receive text notification.
    # Continued on Step 5.
    - Type: set_env_var
      Value: $AND_CLI_provider_user1$
      Var: provider_user1
    - Type: set_env_var
      Value: $AND_CLI_provider_user1_pwd$
      Var: provider_user1_pwd
    # Click on the users dropdown.
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.users_dropdown_button$
    # Verify that the first user has stayed on shift.
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_header.onshift_carepartner1_element$
